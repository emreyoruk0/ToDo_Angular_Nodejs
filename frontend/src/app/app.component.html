<div class="container">

  <div *ngIf="!isUpdate; else updateForm">
    <div class="form-group">
      <label for="work">Yapılacak İş</label>
      <input type="text" name="work" [(ngModel)]="work" id="work" class="form-control">
    </div>
    <div class="form-group mt-1 text-center">
      <button class="btn btn-outline-primary w-50" (click)="add()">Kaydet</button>
    </div>
    <hr>
  </div>


  <ng-template #updateForm>
    <div class="form-group">
      <label for="work">Güncellenecek İş</label>
      <input type="text" name="work" [(ngModel)]="updateModel.work" id="work" class="form-control">
    </div>
    <div class="form-group mt-1 text-center">
      <button class="btn btn-outline-success w-50" (click)="update(); isUpdate = false">Güncelle</button>
    </div>
    <hr>
  </ng-template>


  <div class="form-group">
    <table class="table table-bordered">
      <thead>
        <tr>
          <th>#</th>
          <th>Yapılacak İş</th>
          <th>Durumu</th>
          <th>İşlemler</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let todo of todos let i = index">
          <td> {{i+1}} </td>
          <td> {{todo.work}} </td>
          <td> {{todo.isCompleted ? "Yapıldı" : "Yapılacak"}} </td>
          <td>
            <button class="btn btn-outline-warning btn-sm" (click)="get(todo); isUpdate = true">Güncelle</button>
            <button class="btn btn-outline-danger btn-sm mx-1" (click)="delete(todo)">Sil</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
